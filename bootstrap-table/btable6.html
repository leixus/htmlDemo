<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../plugins/bootstrap-3.3.7/dist/css/bootstrap.css">
    <link rel="stylesheet" href="../plugins/bootstrap-table-master/dist/bootstrap-table.css">
</head>
<body>

<table id="table"></table>

<script src="../plugins/jquery-3.4.1.min.js"></script>
<script src="../plugins/bootstrap-3.3.7/dist/js/bootstrap.js"></script>
<script src="../plugins/bootstrap-table-master/dist/bootstrap-table.js"></script>
<script src="../plugins/bootstrap-table-master/dist/locale/bootstrap-table-zh-CN.js"></script>
<script>
    var $table = $('#table');
    // bootstrap table初始化
    $table.bootstrapTable({
        url: 'https://api.apiopen.top/getWangYiNews',
        metnod: 'post',
        height: 600,
        striped: true,
        search: false,
        showRefresh: true,
        showColumns: true,
        minimumCountColumns: 2,
        clickToSelect: true,
        detailView: false,
        detailFormatter: 'detailFormatter',
        pagination: true,
        paginationLoop: false,
        sidePagination: 'server',
        silentSort: false,
        smartDisplay: false,
        escape: true,
        searchOnEnterKey: true,
        idField: 'taskId',
        maintainSelected: true,
        toolbar: '#toolbar',
        // queryParamsType: "undefined",
        queryParams: function (params) {
            var str_search = $('#txt_search_key').val();
            return {
                offset: params.offset,
                limit: params.limit,
                search: str_search
            };
        },
        columns: [
            {field: 'ck', checkbox: true},
            {field: 'taskId', title: '编号', align: 'center'},
            {field: 'title', title: '任务名称'},
            {field: 'initiatorRealname', title: '发起人', align: 'center'},
            {field: 'responsiblemanRealname', title: '责任人', align: 'center'},
            {field: 'executorRealname', title: '执行人', align: 'center'},
            {field: 'taskSourceName', title: '任务来源', align: 'center'},
            {field: 'taskTypeName', title: '任务类型', align: 'center'},
            {field: 'taskStatusName', title: '任务状态', align: 'center'},
            {field: 'priorityName', title: '优先级', align: 'center'},
            {field: 'action', title: '操作', align: 'center', formatter: 'actionFormatter', events: 'actionEvents', clickToSelect: false}
        ]
    });
</script>
</body>
</html>