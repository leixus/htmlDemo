<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <custom-directive></custom-directive>
</body>
<script src="../angular.js"></script>
<script>
    var app = angular.module('myApp', []);

    app.directive('customDirective', customDirective);

    function customDirective() {
        var directive = {
            restrict: 'EA',
            template: '<child-directive><child-directive>',
            link: function (scope, el) {
                console.log(2)
                el.find('span').text('hello cnblogs!');
            }
        };
        return directive;
    }

    app.directive("childDirective", childDirective);

    function childDirective() {
        var directive = {
            restrict: 'EA',
            template: '<h1>hello xpy0928</h1>',
            // replace: true,
            link: function (scope, $element, attr) {
                console.log($element.text());
                console.log(1)
                $element.replaceWith(angular.element('<span>' + $element.text() + '</span>'));
            }
        };
        return directive;
    }
</script>
</html>